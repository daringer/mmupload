<!doctype html>
<head lang=en>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>Fancy Uploader Frontend</title>

	<script src="{{ url_for("get_static", target="jquery-3.4.1.min.js") }}"
		type="text/javascript" charset="utf-8"></script>
	<script src="{{ url_for("get_static", target="jquery.form.js") }}"
		type="text/javascript" charset="utf-8"></script>
	<script src="{{ url_for("get_static", target="jsgrid/dist/jsgrid.min.js") }}"
		type="text/javascript" charset="utf-8"></script>
	<script src="{{ url_for("get_static", target="ace/src-min/ace.js") }}"
		type="text/javascript" charset="utf-8"></script>

	<link rel="stylesheet" href="{{ url_for("get_static",
											target="jsgrid/dist/jsgrid-theme.min.css") }}" />
	<link rel="stylesheet" href="{{ url_for("get_static",
											target="jsgrid/dist/jsgrid.min.css") }}" />
	<link rel="stylesheet" href="{{ url_for("get_static",
											target="style.css") }}" />

	<script src="{{ url_for("get_static", target="main.js") }}"
		type="text/javascript" charset="utf-8"></script>

</head>
<script>
		var url_prefix = "{{ url_prefix }}";

  	var current_dir = "{{ base_dir }}";
		// hack, @fixme
		if (current_dir == ".")
			current_dir = "";

		$(function() {
			{% for msg in messages %}
				show_message("{{msg}}"):
			{% endfor %}
		});
</script>

<body>

<header>
	<div id=flash class=toplvlbox></div>
</header>

<main>

	<article>
		<div id=editorbox>
 			  <form method=POST method="post" name=editor
				  	  action="{{ url_for("pastebin") }}">
	  			  <div id=editor></div>
		  		  <input type=hidden name=data />
						<input type=hidden name=paste_from value=editor />
			    	<input type=submit value=paste name=what />
			  </form>
		</div>
	</article>
</main>


<script>

$(function() {

	var editor = ace.edit("editor");
  editor.setTheme("ace/theme/twilight");
  //editor.session.setMode("ace/mode/javascript");

	editor.focus();
	$("form[name=editor] input[name=what]").click(function(ev) {
			$("form[name=editor] input[name=data]").val(editor.getValue());
	});

});

</script>
</body>



